# WeChat Jump

## 技术栈：
1. **计算机视觉**  
   OpenCV(cv2)用于图像处理、模板匹配、图像保存等操作。代码中使用了 `cv2` 库来截取屏幕截图、加载模板图像、执行模板匹配以及可视化玩家和目标位置等操作。

2. **自动化脚本**  
   PyAutoGUI用于截屏和模拟鼠标/键盘操作。代码中使用 `pyautogui.screenshot()` 截取屏幕图像，并保存到本地文件夹。  
   `subprocess` 用于执行外部命令。代码中使用 `subprocess.run()` 来调用外部的 ADB 工具执行屏幕滑动操作 (`input swipe`)，用来模拟玩家在游戏中的跳跃动作。该命令通过连接安卓设备或模拟器来进行滑动输入。

3. **ADB**  
   用于通过电脑控制安卓设备或模拟器进行操作。代码通过 `subprocess.run()` 调用 ADB 工具，模拟屏幕滑动来实现游戏中的跳跃功能。

4. **其他工具**  
   - `os` 用于操作文件系统，检查目录是否存在并创建目录，以及处理文件路径。  
   - `NumPy` 用于执行数值计算，使用 `np.sqrt()` 来计算欧氏距离。

## 使用方法

1. **准备环境**  
   - 确保已安装 Python 及相关依赖库，例如 OpenCV、PyAutoGUI、NumPy 等。  
   - 确保已安装 ADB，并能通过命令行访问。

2. **配置设备**  
   - 连接安卓设备或启动安卓模拟器，并启用开发者模式。
   - 使用 ADB 命令 `adb devices` 检查设备连接状态，确保设备能够被电脑识别。

3. **运行游戏脚本**  
   - 在终端中导航到项目文件夹。
   - 运行 `jump_game.py` 文件：  
     ```bash
     python jump_game.py
     ```
   - 脚本将自动截取屏幕并计算玩家与目标的距离，然后通过 ADB 执行跳跃操作。

4. **调试**  
   - 如果需要查看跳跃参数，可以修改 `jump_game_saved.py` 文件中的参数并保存。
   - 若有模板匹配问题，可在 `player` 和 `target` 文件夹中更新模板图像。

5. **注意事项**  
   - 确保设备屏幕保持解锁状态。
   - 需要继续补充数据集。当然代码也可以进一步优化。
   - 如果出现屏幕匹配问题，请检查 OpenCV 的模板图像是否清晰，并确保设备分辨率一致。
